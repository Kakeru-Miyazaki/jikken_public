# FEFSS (Wi-Fiを使ったファイル共有 \~AirDrop風\~)
# はじめに

突然ですがみなさん，OSは何を使っていますか？僕はLinuxメインでWindowsも使うという感じです．

一方で僕の友達にはマカーが多いのですが，ある友達（普段はMac使い）がUbuntuを使っているときにファイルを共有しようとして，__「あ，AirDropないのか」__ とぼやいたのをきっかけに，
「なるほど，LinuxとかMacとか関係なくAirDropできたらいいのにな…．」と思い，つくることにしました．

ということで，I実験で学んだことを活かして，AirDropもどきを作ってみました．
本家と違い __同じWi-Fiに接続に接続したPC同士__ でないと使えませんが，実装内容と機能を以下に示します．

こだわりポイントとして，

* __OSに縛られずに使える．__ 
  * Ubuntu, Mac, WSLでは動作検証済み
  * 現状UNIX系のみ（Windowsさん…）
* __CUI,GUIユーザーどちらにも使いやすい．__
  * CUIユーザーは，送受信およびアドレス登録をすべてコマンドラインで行える．
  * GUIユーザーは，FEFSSのデスクトップアプリをクリックするだけで矢印キーとマウス操作でOK！
  * もちろんCUI×GUIみたいな通信も可能．好きな方を使える．
* __IPアドレスは一回保存すれば以降登録不要__
  * Linux系なら，自動で自分のIPアドレスも教えてくれる．
  * ポート番号は50000固定です．ごめんなさい．
* __インストーラ作成済み__
  * Linux(Ubuntu), WSL2, Mac用インストーラ作成済み（シェルスクリプト）．詳しくは各OSの説明部参照．
  * ついでにアンインストーラーも作った．
  


# 使い方

## 送受信
（通信するPCは同じWiFiに接続しているものとします．）

(送信 CUI)
* 'fefss\_send hoge' と入力（hogeはカレントディレクトリにあるファイル名）

(送信 GUI)
* FEFSSアイコンをクリック．
* 'send a file' を選択
* 送りたいファイルをドラッグ&ドロップ！

(受信 CUI)
* （初回のみ）'fefss\_add'で送信元のIPアドレスを登録する．
* 'fefss\_recv' と入力．送信元選択画面がでるので選択する．
* hogeを受信．（このとき，自動で名前が保存されていることに注意．）
* 受信したファイルをプレビューするか問われるので，"ｙ"を入力すると規定のアプリで開き,"n"を入力すると開かずに終了する．

(受信 GUI)
* （初回のみ）FEFSSアイコンをクリックし'add address'で送信元のIPアドレスを登録する．
* FEFSSアイコンをクリックし，' receive a file'を選択．送信元を選択する．
* hogeを受信．（このとき，自動で名前が保存されていることに注意．）
* 受信したファイルをプレビューするか問われるので，"ｙ"を入力すると規定のアプリで開き,"n"を入力すると開かずに終了する．

> GUIで受信したファイルは~/fefss/receivedfilesに，CUIで受信したファイルはカレントディレクトリに入ります．


## インストール
FEFSSフォルダ内にファイルinstallerをおいてあるので，__'bash installer' もしくは 'chmod +x installer' からの './installer' で実行すると，インストールがはじまる．__

__※このとき，FEFSSフォルダをfefss（fefss\_formacとかもfefssに直す）という名前でホームディレクトリ直下に置いてください．__

* ~/fefss ってなってればOKです．
* 一応インストーラでこの判定はしてますが，もともとホームディレクトリにfefssという別のフォルダがある稀有な例では悲惨なことが起こりうるのでご注意を．

コンパイル，パス取得，エイリアス登録，デスクトップアプリ作成といろいろうまく行ったら，'successfully installed'と出ます．

改めて再読み込み等すると，__デスクトップアプリが出現し，ターミナルでFEFSSコマンドが使えるようになります．__

質問, ご意見は slack, GitHubもしくはメール等でご連絡ください. [email: yasarikei@gmail.com]

作成者：kakekakemiya